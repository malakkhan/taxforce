/* ===== SIMULATE PAGE - SLIDER RESET BUTTON LAYOUT ===== */
/* Targeted via hidden .slider-compact-marker div */
/* STRICT SELECTOR: Target only the LEAF row containing the marker */

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker) {
    flex-wrap: nowrap !important;
    gap: 0px !important;
    align-items: center !important;
    /* Changed from flex-start to center to match working text inputs */
    overflow: visible !important;
}

/* Force individual columns to behave as fixed-size vs flexible blocks */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker)>div {
    flex: 0 0 auto !important;
    width: auto !important;
}

/* 1. Slider Column - Takes remaining space */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker)>div:nth-child(1) {
    flex: 1 1 auto !important;
    width: auto !important;
    min-width: 150px !important;
    padding-right: 0px !important;
    /* Reduced to bring input closer */
}

/* 2. Number Input Column - Fixed width matching text inputs */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker)>div:nth-child(2) {
    width: 90px !important;
    /* Matches text inputs */
    min-width: 90px !important;
    padding-left: 0px !important;
    /* Reduced to bring input closer */
}

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker) [data-testid="stNumberInput"] {
    width: 80px !important;
    /* Matches text inputs (input is 80px inside 90px col) */
}

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker) [data-testid="stNumberInput"] input {
    width: 100% !important;
    min-width: unset !important;
}

/* 3. Reset Button Column - Tightly next to input */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker)>div:last-child {
    width: 45px !important;
    /* Matches text inputs */
    min-width: 45px !important;
    padding-left: 8px !important;
    /* Matches text inputs */
    display: flex !important;
    align-items: center !important;
    /* Match text inputs */
}

/* Remove internal vertical block padding in the reset column */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker)>div:last-child [data-testid="stVerticalBlock"] {
    gap: 0 !important;
    padding: 0 !important;
}

/* Reset button styling - Transparent & Compact (Exact duplicate of text input button style) */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker) button {
    background: transparent !important;
    border: none !important;
    color: #A0AEC0 !important;
    font-size: 16px !important;
    padding: 0px !important;
    height: 30px !important;
    width: 30px !important;
    cursor: pointer !important;
}

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.slider-compact-marker) button:hover {
    color: #01689B !important;
    transform: rotate(-45deg) !important;
}

/* ===== COMPACT TEXT INPUT ROWS ===== */
/* Targeted via hidden .compact-marker div */
/* CRITICAL FIX: Only target the LEAF horizontal block (one that has no other horizontal blocks inside) */
/* This prevents the :has() selector from matching the top-level page layout and breaking the header */

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) {
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    gap: 0px !important;
    align-items: center !important;
    overflow: visible !important;
}

/* Force individual columns to behave as fixed-size blocks clustered left */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker)>div {
    flex: 0 0 auto !important;
    width: auto !important;
}

/* 1. Label Column */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker)>div:nth-child(1) {
    width: 210px !important;
    min-width: 210px !important;
    display: flex !important;
    align-items: center !important;
}

/* Prevent label wrapping */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) label,
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) .stMarkdown p {
    white-space: nowrap !important;
}

/* 2. Number Input Column - Tightly follow label */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker)>div:nth-child(2) {
    padding-left: 12px !important;
    /* Fixed visual gap */
    width: 90px !important;
}

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) [data-testid="stNumberInput"] {
    width: 80px !important;
}

/* 3. Reset Button Column - Directly next to input */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker)>div:last-child {
    padding-left: 8px !important;
    /* Tight gap */
    width: 45px !important;
    display: flex !important;
    align-items: center !important;
}

/* Reset button styling */
[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) button {
    background: transparent !important;
    border: none !important;
    color: #A0AEC0 !important;
    font-size: 16px !important;
    padding: 0px !important;
    height: 30px !important;
    width: 30px !important;
    cursor: pointer !important;
}

[data-testid="stHorizontalBlock"]:not(:has([data-testid="stHorizontalBlock"])):has(.compact-marker) button:hover {
    color: #01689B !important;
    transform: rotate(-45deg) !important;
}